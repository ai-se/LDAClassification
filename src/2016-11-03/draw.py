__author__ = 'amrit'

import matplotlib.pyplot as plt
import os, pickle
import operator
import numpy as np
import matplotlib.cm as cmx
import matplotlib.colors as colors
#log_tuned={'SE6': [{0: [[[83, 0.11815813794912039, 0.5325108469364452], [0.01674229160169266, 0.79952267303102631]], 3695.22896194458, 0.78947368421052633], 1: [[[103, 0.13297012262292499, 0.8540348501230959], [0.01641061103791374, 0.74931880108991822]], 4186.932622909546, 0.69158878504672905], 2: [[[95, 0.18343769905644258, 0.0796524557064503], [0.016908578123725218, 0.8150470219435737]], 4300.837275028229, 0.79268292682926833], 3: [[[104, 0.6567406137097488, 0.4678292601376392], [0.01415901443802259, 0.72864321608040195]], 4126.1505308151245, 0.53097345132743368], 4: [[[105, 0.15128965811985629, 0.05907595500072243], [0.017127971212461603, 0.77108433734939752]], 4387.267173051834, 0.83673469387755106]}, [0.78947368421052633, 0.69158878504672905, 0.79268292682926833, 0.53097345132743368, 0.83673469387755106], 20697.134072065353], 'SE3': [{0: [[[70, 0.13813847223688946, 0.21701192217848606], [0.0041335558760771775, 0.62103929024081117]], 16807.646595954895, 0.60546874999999989], 1: [[[121.1, 0.1, 0.09819315273321153], [0.004166371086747754, 0.64871481028151778]], 17148.77043414116, 0.58325493885230484], 2: [[[76.2, 0.21727295057097423, 0.28747174327859326], [0.00401535621637436, 0.64743589743589747]], 16982.114508152008, 0.58325024925224334], 3: [[[150, 0.3208575690701714, 0.6950242286614807], [0.0034863785904748323, 0.60585885486018642]], 19238.308867931366, 0.56107249255213509], 4: [[[119.4, 0.5602813760669031, 0.5609440912569552], [0.0035639748413401383, 0.60570071258907365]], 18089.028545856476, 0.49773755656108604]}, [0.60546874999999989, 0.58325493885230484, 0.58325024925224334, 0.56107249255213509, 0.49773755656108604], 88268.13963389397], 'SE1': [{0: [[[90, 0.19938501164789546, 0.4822167799502225], [0.005638762391865364, 0.90118577075098805]], 11567.587004899979, 0.87140992167101816], 1: [[[121, 0.140731276744474, 0.09497619780488248], [0.0059548924402544464, 0.90222575516693171]], 12530.836812019348, 0.90259740259740251], 2: [[[132, 0.16400209326850285, 0.653625946529504], [0.005490271577725267, 0.89785831960461293]], 12696.132282018661, 0.89308578745198453], 3: [[[74.2, 0.14533289868937954, 0.01], [0.006284383577663444, 0.9083665338645418]], 13925.738764047623, 0.9187620889748549], 4: [[[134.3, 0.14303038766283846, 0.457873591182994], [0.005562750641867097, 0.90783090783090781]], 12797.671155929565, 0.90090090090090091]}, [0.87140992167101816, 0.90259740259740251, 0.89308578745198453, 0.9187620889748549, 0.90090090090090091], 63519.19331288338], 'SE0': [{0: [[[75, 0.2870935819735936, 0.04040618049657823], [0.04976084234337918, 0.93333333333333324]], 1175.7441899776459, 0.9375], 1: [[[70, 0.1, 1], [0.04817090968931066, 0.95238095238095233]], 1309.1318399906158, 0.90189873417721511], 2: [[[80, 0.5872264533595015, 0.9358042121880467], [0.040386544080552096, 0.92741935483870974]], 1264.0944859981537, 0.84967320261437906], 3: [[[94.4, 0.1, 0.3429766206147909], [0.047260387444366184, 0.9701492537313432]], 1317.9225652217865, 0.89743589743589736], 4: [[[105.44, 0.1, 0.01], [0.05085545962742551, 0.94907407407407407]], 1274.898661851883, 0.93354430379746856]}, [0.9375, 0.90189873417721511, 0.84967320261437906, 0.89743589743589736, 0.93354430379746856], 6342.011147022247], 'photo': [{0: [[[135, 0.11249861124005991, 0.23317810300681413], [0.023111486970568286, 0.45035823950870008]], 2991.955897092819, 0.44634806131650134], 1: [[[98, 0.9447438915895904, 0.2663329345052736], [0.02108446623892768, 0.47192353643966539]], 2695.3910388946533, 0.40778839088905217], 2: [[[75, 0.2619616301778306, 0.9909031953058552], [0.022888670595504593, 0.44102019128586617]], 2453.6466472148895, 0.42210617928633593], 3: [[[103, 0.6262793881106326, 0.011525767347016018], [0.025990011867863993, 0.47024952015355087]], 2710.2226190567017, 0.47762478485370047], 4: [[[150, 0.1, 1], [0.02317465763205413, 0.4837067209775967]], 2696.7458300590515, 0.35812672176308541]}, [0.44634806131650134, 0.40778839088905217, 0.42210617928633593, 0.47762478485370047, 0.35812672176308541], 13548.627535104752], 'SE8': [{0: [[[91, 0.8447891398687247, 0.27252301123823575], [0.005118171231284799, 0.36637931034482762]], 12990.728049993515, 0.24578651685393257], 1: [[[97, 0.7344268995685013, 0.09453088486467787], [0.005367918857400295, 0.40277777777777785]], 10542.634625911713, 0.31404958677685951], 2: [[[116.0, 0.1, 0.4253458636077497], [0.005219640191670179, 0.36585365853658536]], 11392.422042131424, 0.36132812499999994], 3: [[[94, 0.16023243931684292, 0.7904615439225354], [0.005069694615183662, 0.30343007915567283]], 9486.559100151062, 0.20196506550218343], 4: [[[135, 0.14293087150257688, 0.4311937844924613], [0.005043216283004894, 0.37037037037037035]], 10742.668865203857, 0.23743016759776536]}, [0.24578651685393257, 0.31404958677685951, 0.36132812499999994, 0.20196506550218343, 0.23743016759776536], 55156.58504104614], 'scifi': [{0: [[[94, 0.31389783172006575, 0.08031773024457], [0.014192150708346337, 0.88365243004418259]], 3902.6384019851685, 0.85695006747638336], 1: [[[98, 0.21695911897940587, 0.054309740241067765], [0.014382445153108023, 0.9031657355679702]], 4220.930685997009, 0.87193460490463215], 2: [[[106, 0.10871513271527461, 0.14132781526270816], [0.014104386534809275, 0.87301587301587302]], 3647.5049929618835, 0.84868421052631582], 3: [[[129, 0.3227029510817835, 0.1757650084975377], [0.012968059469602772, 0.84999999999999998]], 4342.0208559036255, 0.85106382978723394], 4: [[[149, 0.178295485170633, 0.10608177114497361], [0.013490098628873121, 0.86235489220563832]], 4359.777163028717, 0.89918256130790186]}, [0.85695006747638336, 0.87193460490463215, 0.84868421052631582, 0.85106382978723394, 0.89918256130790186], 20474.478773117065], 'rpg': [{0: [[[75, 0.5541901588294901, 0.14524111983256258], [0.0182370480825672, 0.38430420711974106]], 2981.573642015457, 0.3592814371257485], 1: [[[86, 0.10632203929365129, 0.07897261618941563], [0.019580067622783644, 0.42499999999999999]], 3341.6531109809875, 0.35392088827203333], 2: [[[118, 0.6834560034479946, 0.23699627004514245], [0.016378501122067114, 0.39439088518843118]], 3217.0379269123077, 0.33793604651162784], 3: [[[72, 0.5204681990885904, 0.3449409882228137], [0.017401293606229048, 0.42738589211618255]], 3069.0149137973785, 0.35756501182033096], 4: [[[116, 0.28098542398013115, 0.024328680454351895], [0.019714253853360182, 0.41304347826086951]], 3281.3434369564056, 0.38543897216274092]}, [0.3592814371257485, 0.35392088827203333, 0.33793604651162784, 0.35756501182033096, 0.38543897216274092], 15891.068197011948], 'cs': [{0: [[[85, 0.6213181437425073, 0.11204022065250765], [0.02743830441611178, 0.65051020408163263]], 1972.7464208602905, 0.63348416289592757], 1: [[[97, 0.11688980495135161, 0.11493013586500893], [0.028548007209889304, 0.60471976401179939]], 1984.3869450092316, 0.64718162839248439], 2: [[[125, 0.1565992619914991, 0.3054524464705272], [0.026512609785522924, 0.62360801781737185]], 2199.186493873596, 0.52222222222222225], 3: [[[79, 0.24825343194944732, 0.31910319489262545], [0.02674044224596606, 0.66406250000000011]], 2005.4950869083405, 0.57971014492753625], 4: [[[95, 0.9503256041807061, 0.7187083064204416], [0.02236717637723132, 0.66091954022988508]], 1939.8553550243378, 0.5365296803652968]}, [0.63348416289592757, 0.64718162839248439, 0.52222222222222225, 0.57971014492753625, 0.5365296803652968], 10102.369038105011], 'diy': [{0: [[[104.1, 0.5566921264194947, 0.3568568694204629], [0.01565475273819549, 0.6743002544529263]], 3049.9050290584564, 0.61090225563909772], 1: [[[134, 0.23246380413918005, 0.01885789702333514], [0.018889785518742267, 0.67660550458715596]], 3600.834750890732, 0.62171628721541161], 2: [[[92, 0.40097491732217605, 0.24935467552511606], [0.016756510634846487, 0.67887931034482762]], 3035.883682012558, 0.62624254473161023], 3: [[[95, 0.6657201137768471, 0.22206808140160328], [0.016425486508170283, 0.60141509433962259]], 3134.780804872513, 0.67404426559356134], 4: [[[145, 0.22501139476119217, 0.0642220673004627], [0.01794415921209529, 0.69318181818181812]], 3599.412810087204, 0.65094339622641517]}, [0.61090225563909772, 0.62171628721541161, 0.62624254473161023, 0.67404426559356134, 0.65094339622641517], 16421.536218881607]}
untuned={'SE6': {'tfidf': {'linear': [0.87557603686635954, 0.88914549653579689, 0.88838268792710695, 0.89569160997732422, 0.88709677419354827, 0.9174311926605504, 0.94170403587443963, 0.85846867749419953, 0.87356321839080464, 0.89772727272727282, 0.96109839816933651, 0.92841163310961983, 0.91836734693877542, 0.83333333333333348, 0.83526682134570773, 0.93103448275862077, 0.87301587301587302, 0.86956521739130432, 0.84862385321100919, 0.92342342342342332, 0.88167053364269143, 0.88709677419354827, 0.89977220956719806, 0.90389016018306645, 0.89977220956719806]}, 'hash': {'linear': [0.84668192219679628, 0.84282460136674242, 0.82392776523702038, 0.90401785714285721, 0.8980044345898005, 0.88169642857142849, 0.86516853932584259, 0.86405529953917048, 0.87443946188340793, 0.84615384615384615, 0.86516853932584259, 0.88169642857142849, 0.83900226757369623, 0.87443946188340793, 0.86516853932584259, 0.859375, 0.84801762114537449, 0.83705357142857151, 0.86363636363636365, 0.85812356979405024, 0.898876404494382, 0.86560364464692496, 0.81818181818181834, 0.85778781038374707, 0.86322869955156967]}}, 'SE3': {'tfidf': {'linear': [0.8263305322128851, 0.8134642356241234, 0.83452211126961484, 0.83453237410071945, 0.79689703808180523, 0.83810888252148996, 0.8495821727019498, 0.83217753120665749, 0.82869080779944293, 0.76368876080691628, 0.84379358437935836, 0.81690140845070414, 0.81428571428571428, 0.82627118644067798, 0.83926031294452341, 0.84659913169319823, 0.82743988684582748, 0.82025677603423675, 0.83100558659217871, 0.79999999999999993, 0.8066860465116279, 0.82047685834502115, 0.81690140845070414, 0.81676136363636365, 0.8606557377049181]}, 'hash': {'linear': [0.77574047954865999, 0.80000000000000004, 0.80758426966292129, 0.80141843971631199, 0.76011157601115764, 0.79750346740638012, 0.80622347949080619, 0.7825484764542936, 0.77030812324929976, 0.80829756795422047, 0.78762306610407873, 0.79639889196675884, 0.83217753120665749, 0.76763485477178428, 0.76652601969057665, 0.79432624113475192, 0.75239398084815323, 0.80532212885154053, 0.83218707015130666, 0.76428571428571423, 0.7941988950276242, 0.77355836849507742, 0.79700272479564038, 0.74127906976744173, 0.85091420534458495]}}, 'SE1': {'tfidf': {'linear': [0.92730978260869568, 0.9032038173142467, 0.92454112848402448, 0.92567567567567566, 0.92114208021753896, 0.9162125340599454, 0.91002044989775055, 0.9334691106585199, 0.90724441435341907, 0.94042838018741637, 0.92402464065708401, 0.90136054421768708, 0.92592592592592593, 0.91554054054054046, 0.92354533152909346, 0.92968221771467219, 0.92276144907723856, 0.90631364562118133, 0.93387866394001362, 0.90074779061862675, 0.92794017675050988, 0.92818428184281843, 0.90537780803267531, 0.93047034764826153, 0.93559322033898307]}, 'hash': {'linear': [0.90169491525423717, 0.88693297224102907, 0.90847457627118655, 0.90389784946236562, 0.88354773188896407, 0.91002044989775055, 0.89986468200270631, 0.88715159755268524, 0.91336467427803891, 0.89932885906040261, 0.87635869565217384, 0.91954022988505735, 0.9251700680272108, 0.88195841716968459, 0.88888888888888873, 0.88851351351351349, 0.91310251188051594, 0.89261285909712718, 0.89959568733153639, 0.88948787061994627, 0.89309878213802418, 0.91307277628032346, 0.8845374746792708, 0.86603518267929636, 0.90694538098449096]}}, 'SE0': {'tfidf': {'linear': [0.91362126245847175, 0.92833876221498357, 0.93851132686084149, 0.88815789473684204, 0.89869281045751648, 0.9508196721311476, 0.91935483870967738, 0.9546925566343043, 0.82214765100671139, 0.91205211726384372, 0.92409240924092406, 0.93442622950819676, 0.93851132686084149, 0.86885245901639341, 0.9838709677419355, 0.93023255813953476, 0.94462540716612375, 0.84717607973421938, 0.91503267973856217, 0.87748344370860931, 0.86956521739130443, 0.93548387096774188, 0.94462540716612375, 0.8910891089108911, 0.92532467532467533]}, 'hash': {'linear': [0.91362126245847175, 0.87171052631578949, 0.92233009708737868, 0.87748344370860931, 0.89869281045751648, 0.88926174496644295, 0.91503267973856217, 0.90759075907590769, 0.92532467532467533, 0.89869281045751648, 0.92105263157894735, 0.8910891089108911, 0.85526315789473684, 0.89869281045751648, 0.86378737541528228, 0.96721311475409832, 0.93851132686084149, 0.93137254901960775, 0.79391891891891886, 0.91935483870967738, 0.92715231788079477, 0.90163934426229519, 0.92532467532467533, 0.8910891089108911, 0.90614886731391597]}}, 'photo': {'tfidf': {'linear': [0.42982456140350878, 0.43814432989690721, 0.44194107452339682, 0.50000000000000011, 0.49137931034482762, 0.47957371225577261, 0.47538200339558567, 0.45620437956204379, 0.47979797979797978, 0.43554006968641118, 0.52631578947368418, 0.48551959114139698, 0.3859964093357271, 0.46409807355516636, 0.43220338983050849, 0.40798611111111116, 0.44117647058823528, 0.43771043771043766, 0.48717948717948711, 0.41284403669724773, 0.45685279187817263, 0.47579298831385641, 0.40350877192982459, 0.43478260869565211, 0.4830053667262969]}, 'hash': {'linear': [0.42387543252595156, 0.43594306049822062, 0.42444821731748728, 0.51601423487544484, 0.48951048951048953, 0.45685279187817263, 0.52586206896551724, 0.48330404217926187, 0.37300177619893432, 0.38596491228070179, 0.40747028862478774, 0.50862068965517238, 0.39682539682539686, 0.4325259515570935, 0.52447552447552448, 0.4681978798586573, 0.42387543252595156, 0.44463087248322153, 0.41245791245791247, 0.50610820244328103, 0.42241379310344829, 0.46875, 0.50862068965517238, 0.42418772563176899, 0.4247787610619469]}}, 'SE8': {'tfidf': {'linear': [0.76923076923076927, 0.85308056872037907, 0.83732057416267947, 0.81280788177339891, 0.77294685990338163, 0.80487804878048774, 0.7674418604651162, 0.84541062801932376, 0.75980392156862742, 0.7857142857142857, 0.81730769230769229, 0.80568720379146919, 0.82524271844660191, 0.75829383886255919, 0.83732057416267947, 0.83333333333333337, 0.77500000000000013, 0.87962962962962954, 0.70351758793969843, 0.78817733990147776, 0.77889447236180898, 0.84862385321100908, 0.80645161290322576, 0.84951456310679618, 0.77294685990338163]}, 'hash': {'linear': [0.79601990049751226, 0.87677725118483418, 0.82125603864734287, 0.75242718446601953, 0.73113207547169801, 0.77294685990338163, 0.80097087378640763, 0.73604060913705593, 0.86046511627906985, 0.76388888888888884, 0.74519230769230771, 0.80645161290322576, 0.75609756097560976, 0.73604060913705593, 0.86124401913875615, 0.80568720379146919, 0.76354679802955672, 0.75117370892018787, 0.77114427860696522, 0.83720930232558144, 0.7142857142857143, 0.74519230769230771, 0.80188679245283023, 0.81339712918660279, 0.80952380952380942]}}, 'scifi': {'tfidf': {'linear': [0.91608391608391604, 0.89310829817158921, 0.86987270155587004, 0.90780141843971629, 0.88935574229691883, 0.94233473980309423, 0.88744588744588759, 0.88401697312588412, 0.86592178770949713, 0.90782122905027951, 0.87357954545454541, 0.88732394366197176, 0.94744121715076079, 0.89615931721194875, 0.86036671368124129, 0.93530239099859347, 0.91038406827880525, 0.87657784011220208, 0.87482219061166433, 0.87904360056258801, 0.89488636363636354, 0.90523338048090529, 0.90209790209790197, 0.86428571428571432, 0.90909090909090917]}, 'hash': {'linear': [0.87994542974079115, 0.84144645340751056, 0.8692628650904034, 0.8380281690140845, 0.85517241379310349, 0.85211267605633789, 0.87312414733969979, 0.89903181189488257, 0.82287308228730827, 0.87345254470426403, 0.86230876216968022, 0.92361111111111105, 0.84944751381215466, 0.87078651685393249, 0.83563535911602205, 0.89385474860335201, 0.86350974930362123, 0.87621696801112658, 0.83906464924346624, 0.87016574585635365, 0.82738944365192579, 0.8677685950413222, 0.85654596100278546, 0.86301369863013688, 0.86685159500693487]}}, 'rpg': {'tfidf': {'linear': [0.57224606580829762, 0.57917888563049846, 0.59607293127629735, 0.56122448979591832, 0.55959302325581384, 0.57365439093484427, 0.52975326560232217, 0.59626436781609193, 0.57365439093484427, 0.54519368723098993, 0.52068473609129817, 0.6047197640117995, 0.5683453237410071, 0.56671449067431845, 0.58910162002945521, 0.5844155844155845, 0.54676258992805749, 0.54225352112676051, 0.57412790697674421, 0.56277056277056281, 0.58055152394775034, 0.56286549707602329, 0.56998556998556993, 0.54765291607396871, 0.57503506311360453]}, 'hash': {'linear': [0.56671449067431845, 0.56417489421720735, 0.55389221556886226, 0.52395209580838309, 0.50724637681159424, 0.54896142433234418, 0.56509298998569379, 0.6028368794326241, 0.56768558951965054, 0.51470588235294112, 0.53724928366762181, 0.53597650513950068, 0.57580174927113703, 0.56034482758620685, 0.56286549707602329, 0.60171919770773641, 0.54785020804438278, 0.52205882352941169, 0.55066079295154191, 0.55386949924127471, 0.53973013493253374, 0.5716353111432706, 0.55873925501432653, 0.60205580029368577, 0.56786703601108035]}}, 'cs': {'tfidf': {'linear': [0.61771561771561778, 0.63549160671462834, 0.63805104408352664, 0.65853658536585358, 0.59610705596107061, 0.63701923076923084, 0.64320388349514579, 0.63510392609699762, 0.66265060240963858, 0.6644144144144144, 0.61274509803921562, 0.65727699530516437, 0.61320754716981118, 0.64320388349514579, 0.69739952718676124, 0.59665871121718372, 0.60465116279069764, 0.64950980392156865, 0.64903846153846156, 0.63679245283018882, 0.5690072639225181, 0.67216981132075471, 0.58894230769230771, 0.61893203883495163, 0.69930069930069938]}, 'hash': {'linear': [0.65268065268065267, 0.64402810304449642, 0.58139534883720922, 0.6588235294117647, 0.62790697674418616, 0.62937062937062926, 0.63380281690140849, 0.62929061784897034, 0.54631828978622321, 0.63829787234042556, 0.66901408450704225, 0.66825775656324571, 0.60426540284360197, 0.59101654846335705, 0.59770114942528729, 0.65420560747663548, 0.65217391304347827, 0.59101654846335705, 0.63679245283018882, 0.60090702947845809, 0.71764705882352942, 0.625, 0.58194774346793354, 0.60090702947845809, 0.60096153846153844]}}, 'diy': {'tfidf': {'linear': [0.7752808988764045, 0.67928730512249447, 0.77272727272727271, 0.75268817204301075, 0.64772727272727271, 0.73788546255506604, 0.68478260869565222, 0.71748878923766823, 0.73529411764705876, 0.74157303370786509, 0.69284064665127032, 0.71743929359823388, 0.75163398692810468, 0.76666666666666672, 0.70953436807095338, 0.70135746606334837, 0.75431034482758619, 0.70484581497797361, 0.70438799076212466, 0.70114942528735624, 0.75723830734966591, 0.70484581497797361, 0.69690265486725667, 0.62200956937799046, 0.7860262008733625]}, 'hash': {'linear': [0.72562358276644001, 0.72869955156950683, 0.65555555555555556, 0.73732718894009219, 0.66448801742919394, 0.65995525727069348, 0.67873303167420806, 0.7505518763796909, 0.73660714285714279, 0.65217391304347816, 0.65972222222222221, 0.72062084257206194, 0.78299776286353473, 0.63063063063063063, 0.69264069264069261, 0.68565400843881852, 0.72368421052631571, 0.74592074592074598, 0.67032967032967039, 0.6138392857142857, 0.67114093959731547, 0.65909090909090906, 0.74115044247787609, 0.6777777777777777, 0.74725274725274715]}}}
tuned={'SE6': [{0: [[[100, 0.19297542703277382, 0.6702608974014973], [0.75, 0.75156576200417546]], 8376.640879154205, 0.71033210332103325], 1: [[[85.0, 0.1, 0.27501088066217466], [0.75, 0.76704545454545459]], 9991.221119880676, 0.86956521739130443], 2: [[[121, 0.16973580786361472, 0.5706568376741179], [0.75, 0.63577586206896541]], 8758.78611779213, 0.71428571428571441], 3: [[[103, 0.33886952472633536, 0.9855811127297843], [0.75, 0.55810397553516822]], 8705.782521009445, 0.625], 4: [[[124.9, 0.1, 1], [1.0, 0.53030303030303039]], 9996.39310002327, 0.61461794019933558]}, [0.71033210332103325, 0.86956521739130443, 0.71428571428571441, 0.625, 0.61461794019933558], 45828.950165987015], 'SE3': [{0: [[[70, 0.13813847223688946, 0.21701192217848606], [0.5, 0.68603213844252153]], 41407.026415109634, 0.57874762808349145], 1: [[[98, 0.13082947598095568, 0.1628801260834368], [0.5, 0.58064516129032262]], 44595.179894924164, 0.63607924921793535], 2: [[[88, 0.19288253600730992, 0.3968217203306359], [0.5, 0.62091503267973858]], 41015.920333862305, 0.57526366251198469], 3: [[[142, 0.1782542700439075, 0.3876940697671911], [0.5, 0.62015503875969002]], 50464.95137786865, 0.55657773689052437], 4: [[[84.6, 0.1, 0.6928156232433258], [0.5, 0.60513447432762835]], 46773.06222009659, 0.38630653266331655]}, [0.57874762808349145, 0.63607924921793535, 0.57526366251198469, 0.55657773689052437, 0.38630653266331655], 224256.90544080734], 'SE1': [{0: [[[90, 0.19938501164789546, 0.4822167799502225], [0.75, 0.90909090909090906]], 27303.478201150894, 0.87702265372168287], 1: [[[93, 0.15325938518565918, 0.7350936502712501], [0.75, 0.89137645107794361]], 26198.626716852188, 0.88803088803088803], 2: [[[78, 0.1251751936103578, 0.43424706815102393], [0.75, 0.89694656488549618]], 27950.70831990242, 0.91677503250975279], 3: [[[144, 0.11292818953754573, 0.1731524008990326], [0.75, 0.90831191088260499]], 25182.636461019516, 0.88444157520981281], 4: [[[70, 0.6026482805010416, 0.6506613161218172], [0.75, 0.88235294117647067]], 24928.82283091545, 0.85823267641449441]}, [0.87702265372168287, 0.88803088803088803, 0.91677503250975279, 0.88444157520981281, 0.85823267641449441], 131564.7270948887], 'SE0': [{0: [[[78, 0.7602710954605432, 0.7648532511684383], [1.0, 0.82995951417004066]], 3137.095813035965, 0.85760517799352753], 1: [[[131, 0.44252353158469493, 0.075156099819646], [0.75, 0.85051546391752564]], 3420.6104509830475, 0.83056478405315615], 2: [[[88.6, 0.10297693079436032, 0.4283415564958784], [0.75, 0.9569377990430622]], 3788.480891942978, 0.93354430379746856], 3: [[[150, 0.2614271967114924, 0.9030979265048535], [1.0, 0.8214285714285714]], 3631.5800909996033, 0.91346153846153844], 4: [[[121, 0.5693682460470674, 0.8218853954627423], [1.0, 0.72289156626506013]], 3465.8656208515167, 0.86092715231788086]}, [0.85760517799352753, 0.83056478405315615, 0.93354430379746856, 0.91346153846153844, 0.86092715231788086], 17443.697834968567], 'photo': [{0: [[[145, 0.3943578774949562, 0.5615388129908747], [1.0, 0.39705882352941169]], 10474.39441204071, 0.39979757085020251], 1: [[[132, 0.7830396250333493, 0.7363455987935092], [1.0, 0.30737704918032788]], 8944.273241996765, 0.33838383838383845], 2: [[[148, 0.7328110811481445, 0.8440423168167064], [0.75, 0.4562268803945746]], 10382.123938083649, 0.3503184713375796], 3: [[[102, 0.13866232513545884, 0.8483736214096389], [0.75, 0.4926108374384236]], 9036.484382867813, 0.42776432606941089], 4: [[[126, 0.4263511278353652, 0.7065989561396058], [0.75, 0.47207446808510639]], 9024.722458839417, 0.35889070146818919]}, [0.39979757085020251, 0.33838383838383845, 0.3503184713375796, 0.42776432606941089, 0.35889070146818919], 47862.21007800102], 'SE8': [{0: [[[106, 0.5022425550648523, 0.7667209030335326], [0.75, 0.1688311688311688]], 57812.33401107788, 0.20121951219512196], 1: [[[84, 0.22395949272646726, 0.6323070232744209], [0.75, 0.375]], 54387.74421620369, 0.26610644257703087], 2: [[[138, 0.5705482726222524, 0.4394160207713739], [0.75, 0.20609318996415768]], 57518.3665060997, 0.27314112291350529], 3: [[[97, 0.8056071015210313, 0.27879932197685525], [0.75, 0.3364485981308411]], 55387.64553284645, 0.22760646108663732], 4: [[[90.7, 0.13716445620306947, 0.4579530156868202], [0.75, 0.29203539823008845]], 53349.025872945786, 0.24128686327077753]}, [0.20121951219512196, 0.26610644257703087, 0.27314112291350529, 0.22760646108663732, 0.24128686327077753], 278456.1078879833], 'scifi': [{0: [[[131, 0.786238804427498, 0.9085625064469703], [1.0, 0.6207366984993179]], 15653.131659030914, 0.625], 1: [[[121, 0.9348022722235307, 0.9193413422324184], [1.0, 0.625]], 15441.182574987411, 0.68126520681265201], 2: [[[109.1, 0.21161158238907873, 1], [1.0, 0.82978723404255328]], 17168.354903936386, 0.80519480519480502], 3: [[[80.7, 0.14323254015767423, 0.7312803772559391], [0.75, 0.89314194577352468]], 18987.88377404213, 0.86363636363636376], 4: [[[150, 0.2656647615236077, 0.7376001225594495], [1.0, 0.64495530012771385]], 18754.55832695961, 0.64317673378076057]}, [0.625, 0.68126520681265201, 0.80519480519480502, 0.86363636363636376, 0.64317673378076057], 86005.41646504402], 'rpg': [{0: [[[139, 0.23895973417989835, 0.8752770766923749], [0.75, 0.3125]], 6846.719393968582, 0.30156165858912226], 1: [[[128.3, 0.5954408505980529, 0.9916928666336362], [0.75, 0.33554817275747506]], 7260.958876132965, 0.29738878143133463], 2: [[[145.1, 0.718035999915716, 0.9283214802640409], [0.75, 0.32440476190476186]], 7200.810341119766, 0.27751423149905124], 3: [[[82.7, 0.3046250853243862, 0.9289187422594142], [0.75, 0.35714285714285715]], 6170.637305021286, 0.29317010309278352], 4: [[[70, 0.448829835469857, 0.7481560700301431], [0.75, 0.37269372693726938]], 6270.791911125183, 0.32741738066095472]}, [0.30156165858912226, 0.29738878143133463, 0.27751423149905124, 0.29317010309278352, 0.32741738066095472], 33750.078605890274], 'cs': [{0: [[[89, 0.5228947541073846, 0.460374716774128], [0.5, 0.64102564102564097]], 7711.550457000732, 0.5580357142857143], 1: [[[120.1, 0.29966147154114925, 0.8889754174900892], [0.75, 0.5844155844155845]], 7554.562304973602, 0.51383399209486169], 2: [[[129, 0.2725793001763192, 0.997100181804948], [0.75, 0.63888888888888895]], 6978.088127851486, 0.52391799544419138], 3: [[[150, 0.9818874305119129, 0.9397372448265949], [0.75, 0.42216358839050128]], 7897.849547147751, 0.3930131004366812], 4: [[[137, 0.6637192867430921, 0.753669429657096], [0.75, 0.43973941368078173]], 7523.143872976303, 0.4329896907216495]}, [0.5580357142857143, 0.51383399209486169, 0.52391799544419138, 0.3930131004366812, 0.4329896907216495], 37665.38827300072], 'diy': [{0: [[[73, 0.9587989910349364, 0.12021876371928183], [0.5, 0.65610859728506787]], 11980.725681781769, 0.6021897810218978], 1: [[[97.1, 0.6521561781404386, 0.7976135335091714], [0.75, 0.52040816326530615]], 11475.269180059433, 0.53244592346089858], 2: [[[95, 0.3404983553691791, 0.9632447143235703], [0.75, 0.55785123966942163]], 11238.82038283348, 0.41509433962264142], 3: [[[70, 0.31979110732187876, 0.01], [0.5, 0.64272211720226835]], 11299.225255012512, 0.56131260794473226], 4: [[[82, 0.4147610136843711, 0.7421218273836252], [0.75, 0.51485148514851475]], 11905.667557954788, 0.46923076923076912]}, [0.6021897810218978, 0.53244592346089858, 0.41509433962264142, 0.56131260794473226, 0.46923076923076912], 57900.026175022125]}
bow=([0.5588003157063931, 0.54508076358296631, 0.32443531827515398, 0.51312530955918778, 0.33925049309664695, 0.32533889468196037, 0.4107633168588688, 0.20027560863573726, 0.28019323671497581, 0.56195121951219507], [0.023492425289380003, 0.011074290619217275, 0.021337579047686128, 0.036498892054447618, 0.035342089890761874, 0.027011817670230642, 0.021151052046366081, 0.023487443500820882, 0.018752614713125559, 0.025969959330322534])

if __name__ == '__main__':
    #ux,android,SE8
    fileB = ['SE0' ,'SE1','SE3','SE6','SE8','cs','diy','photo','rpg','scifi']
    '''temp1={}
    path = '/Users/amrit/GITHUB/LDAClassification/src/2016-11-03/dump/jaccard/'
    for root, dirs, files in os.walk(path, topdown=False):
        for name in files:
            a = os.path.join(root, name)
            with open(a, 'rb') as handle:
                temp = pickle.load(handle)
                temp1 = dict(temp1.items() + temp.items())
    print(temp1)'''
    Y_tuned_m = []
    Y_tuned_iqr = []
    for f in fileB:
        #print(tuned[f][-2])
        Y_tuned_m.append(np.median(tuned[f][-2]))
        Y_tuned_iqr.append(np.percentile(tuned[f][-2],75)-np.percentile(tuned[f][-2],25))
    issel=['hash']

    font = {
        'size': 60}

    plt.rc('font', **font)
    paras = {'lines.linewidth': 10, 'legend.fontsize': 35, 'axes.labelsize': 60, 'legend.frameon': False,
             'figure.autolayout': True}
    plt.rcParams.update(paras)
    X = range(len(fileB))
    plt.figure(num=0, figsize=(25, 15))

    #plt.title("Tuning improves Clustering and Classification from StackExchange websites")
    #plt.title("Tuning")

    for s in issel:
        Y_untuned_m = []
        Y_untuned_iqr = []
        for f in fileB:
            Y_untuned_m.append(np.median(untuned[f][s]['linear']))
            Y_untuned_iqr.append(np.percentile(untuned[f][s]['linear'],75)-np.percentile(untuned[f][s]['linear'],25))
        line,=plt.plot(X,  Y_untuned_m, marker='o', markersize=20, label='median tf+l2norm')
        plt.plot(X, Y_untuned_iqr,linestyle="-.", marker='*',markersize=25,color=line.get_color(),label='iqr tf+l2norm')
    line, = plt.plot(X, Y_tuned_m, marker='o', markersize=20, label='median tuned LDA')
    plt.plot(X, Y_tuned_iqr, linestyle="-.", marker='*', markersize=25, color=line.get_color(), label='iqr tuned LDA')
    line, = plt.plot(X, bow[0], marker='o', markersize=20, label='median bow')
    plt.plot(X, bow[1], linestyle="-.", marker='*', markersize=25, color=line.get_color(), label='iqr bow')

    #plt.ytext(0.04, 0.5, va='center', rotation='vertical', fontsize=11)
    #plt.text(0.04, 0.5,"Rn (Raw Score)", labelpad=100)
    plt.ylim(0.0, 1.0)
    plt.xticks(X, fileB)
    plt.ylabel("F2 Score", labelpad=30)
    plt.xlabel("Datasets", labelpad=30)
    plt.legend(bbox_to_anchor=(1.02, 1.13), loc=1, ncol=3, borderaxespad=0.1)
    plt.savefig("jaccard_tuned_vs_l2row.png")
