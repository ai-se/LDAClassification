__author__ = 'amrit'

import matplotlib.pyplot as plt
import os, pickle
import operator
import numpy as np
import matplotlib.cm as cmx
import matplotlib.colors as colors
#{'SE6': {'tfidf': {'linear': [0.87557603686635954, 0.88914549653579689, 0.88838268792710695, 0.89569160997732422, 0.88709677419354827, 0.9174311926605504, 0.94170403587443963, 0.85846867749419953, 0.87356321839080464, 0.89772727272727282, 0.96109839816933651, 0.92841163310961983, 0.91836734693877542, 0.83333333333333348, 0.83526682134570773, 0.93103448275862077, 0.87301587301587302, 0.86956521739130432, 0.84862385321100919, 0.92342342342342332, 0.88167053364269143, 0.88709677419354827, 0.89977220956719806, 0.90389016018306645, 0.89977220956719806]}, 'hash': {'linear': [0.84668192219679628, 0.84282460136674242, 0.82392776523702038, 0.90401785714285721, 0.8980044345898005, 0.88169642857142849, 0.86516853932584259, 0.86405529953917048, 0.87443946188340793, 0.84615384615384615, 0.86516853932584259, 0.88169642857142849, 0.83900226757369623, 0.87443946188340793, 0.86516853932584259, 0.859375, 0.84801762114537449, 0.83705357142857151, 0.86363636363636365, 0.85812356979405024, 0.898876404494382, 0.86560364464692496, 0.81818181818181834, 0.85778781038374707, 0.86322869955156967]}}, 'SE3': {'tfidf': {'linear': [0.8263305322128851, 0.8134642356241234, 0.83452211126961484, 0.83453237410071945, 0.79689703808180523, 0.83810888252148996, 0.8495821727019498, 0.83217753120665749, 0.82869080779944293, 0.76368876080691628, 0.84379358437935836, 0.81690140845070414, 0.81428571428571428, 0.82627118644067798, 0.83926031294452341, 0.84659913169319823, 0.82743988684582748, 0.82025677603423675, 0.83100558659217871, 0.79999999999999993, 0.8066860465116279, 0.82047685834502115, 0.81690140845070414, 0.81676136363636365, 0.8606557377049181]}, 'hash': {'linear': [0.77574047954865999, 0.80000000000000004, 0.80758426966292129, 0.80141843971631199, 0.76011157601115764, 0.79750346740638012, 0.80622347949080619, 0.7825484764542936, 0.77030812324929976, 0.80829756795422047, 0.78762306610407873, 0.79639889196675884, 0.83217753120665749, 0.76763485477178428, 0.76652601969057665, 0.79432624113475192, 0.75239398084815323, 0.80532212885154053, 0.83218707015130666, 0.76428571428571423, 0.7941988950276242, 0.77355836849507742, 0.79700272479564038, 0.74127906976744173, 0.85091420534458495]}}, 'SE1': {'tfidf': {'linear': [0.92730978260869568, 0.9032038173142467, 0.92454112848402448, 0.92567567567567566, 0.92114208021753896, 0.9162125340599454, 0.91002044989775055, 0.9334691106585199, 0.90724441435341907, 0.94042838018741637, 0.92402464065708401, 0.90136054421768708, 0.92592592592592593, 0.91554054054054046, 0.92354533152909346, 0.92968221771467219, 0.92276144907723856, 0.90631364562118133, 0.93387866394001362, 0.90074779061862675, 0.92794017675050988, 0.92818428184281843, 0.90537780803267531, 0.93047034764826153, 0.93559322033898307]}, 'hash': {'linear': [0.90169491525423717, 0.88693297224102907, 0.90847457627118655, 0.90389784946236562, 0.88354773188896407, 0.91002044989775055, 0.89986468200270631, 0.88715159755268524, 0.91336467427803891, 0.89932885906040261, 0.87635869565217384, 0.91954022988505735, 0.9251700680272108, 0.88195841716968459, 0.88888888888888873, 0.88851351351351349, 0.91310251188051594, 0.89261285909712718, 0.89959568733153639, 0.88948787061994627, 0.89309878213802418, 0.91307277628032346, 0.8845374746792708, 0.86603518267929636, 0.90694538098449096]}}, 'SE0': {'tfidf': {'linear': [0.91362126245847175, 0.92833876221498357, 0.93851132686084149, 0.88815789473684204, 0.89869281045751648, 0.9508196721311476, 0.91935483870967738, 0.9546925566343043, 0.82214765100671139, 0.91205211726384372, 0.92409240924092406, 0.93442622950819676, 0.93851132686084149, 0.86885245901639341, 0.9838709677419355, 0.93023255813953476, 0.94462540716612375, 0.84717607973421938, 0.91503267973856217, 0.87748344370860931, 0.86956521739130443, 0.93548387096774188, 0.94462540716612375, 0.8910891089108911, 0.92532467532467533]}, 'hash': {'linear': [0.91362126245847175, 0.87171052631578949, 0.92233009708737868, 0.87748344370860931, 0.89869281045751648, 0.88926174496644295, 0.91503267973856217, 0.90759075907590769, 0.92532467532467533, 0.89869281045751648, 0.92105263157894735, 0.8910891089108911, 0.85526315789473684, 0.89869281045751648, 0.86378737541528228, 0.96721311475409832, 0.93851132686084149, 0.93137254901960775, 0.79391891891891886, 0.91935483870967738, 0.92715231788079477, 0.90163934426229519, 0.92532467532467533, 0.8910891089108911, 0.90614886731391597]}}, 'photo': {'tfidf': {'linear': [0.42982456140350878, 0.43814432989690721, 0.44194107452339682, 0.50000000000000011, 0.49137931034482762, 0.47957371225577261, 0.47538200339558567, 0.45620437956204379, 0.47979797979797978, 0.43554006968641118, 0.52631578947368418, 0.48551959114139698, 0.3859964093357271, 0.46409807355516636, 0.43220338983050849, 0.40798611111111116, 0.44117647058823528, 0.43771043771043766, 0.48717948717948711, 0.41284403669724773, 0.45685279187817263, 0.47579298831385641, 0.40350877192982459, 0.43478260869565211, 0.4830053667262969]}, 'hash': {'linear': [0.42387543252595156, 0.43594306049822062, 0.42444821731748728, 0.51601423487544484, 0.48951048951048953, 0.45685279187817263, 0.52586206896551724, 0.48330404217926187, 0.37300177619893432, 0.38596491228070179, 0.40747028862478774, 0.50862068965517238, 0.39682539682539686, 0.4325259515570935, 0.52447552447552448, 0.4681978798586573, 0.42387543252595156, 0.44463087248322153, 0.41245791245791247, 0.50610820244328103, 0.42241379310344829, 0.46875, 0.50862068965517238, 0.42418772563176899, 0.4247787610619469]}}, 'SE8': {'tfidf': {'linear': [0.76923076923076927, 0.85308056872037907, 0.83732057416267947, 0.81280788177339891, 0.77294685990338163, 0.80487804878048774, 0.7674418604651162, 0.84541062801932376, 0.75980392156862742, 0.7857142857142857, 0.81730769230769229, 0.80568720379146919, 0.82524271844660191, 0.75829383886255919, 0.83732057416267947, 0.83333333333333337, 0.77500000000000013, 0.87962962962962954, 0.70351758793969843, 0.78817733990147776, 0.77889447236180898, 0.84862385321100908, 0.80645161290322576, 0.84951456310679618, 0.77294685990338163]}, 'hash': {'linear': [0.79601990049751226, 0.87677725118483418, 0.82125603864734287, 0.75242718446601953, 0.73113207547169801, 0.77294685990338163, 0.80097087378640763, 0.73604060913705593, 0.86046511627906985, 0.76388888888888884, 0.74519230769230771, 0.80645161290322576, 0.75609756097560976, 0.73604060913705593, 0.86124401913875615, 0.80568720379146919, 0.76354679802955672, 0.75117370892018787, 0.77114427860696522, 0.83720930232558144, 0.7142857142857143, 0.74519230769230771, 0.80188679245283023, 0.81339712918660279, 0.80952380952380942]}}, 'scifi': {'tfidf': {'linear': [0.91608391608391604, 0.89310829817158921, 0.86987270155587004, 0.90780141843971629, 0.88935574229691883, 0.94233473980309423, 0.88744588744588759, 0.88401697312588412, 0.86592178770949713, 0.90782122905027951, 0.87357954545454541, 0.88732394366197176, 0.94744121715076079, 0.89615931721194875, 0.86036671368124129, 0.93530239099859347, 0.91038406827880525, 0.87657784011220208, 0.87482219061166433, 0.87904360056258801, 0.89488636363636354, 0.90523338048090529, 0.90209790209790197, 0.86428571428571432, 0.90909090909090917]}, 'hash': {'linear': [0.87994542974079115, 0.84144645340751056, 0.8692628650904034, 0.8380281690140845, 0.85517241379310349, 0.85211267605633789, 0.87312414733969979, 0.89903181189488257, 0.82287308228730827, 0.87345254470426403, 0.86230876216968022, 0.92361111111111105, 0.84944751381215466, 0.87078651685393249, 0.83563535911602205, 0.89385474860335201, 0.86350974930362123, 0.87621696801112658, 0.83906464924346624, 0.87016574585635365, 0.82738944365192579, 0.8677685950413222, 0.85654596100278546, 0.86301369863013688, 0.86685159500693487]}}, 'rpg': {'tfidf': {'linear': [0.57224606580829762, 0.57917888563049846, 0.59607293127629735, 0.56122448979591832, 0.55959302325581384, 0.57365439093484427, 0.52975326560232217, 0.59626436781609193, 0.57365439093484427, 0.54519368723098993, 0.52068473609129817, 0.6047197640117995, 0.5683453237410071, 0.56671449067431845, 0.58910162002945521, 0.5844155844155845, 0.54676258992805749, 0.54225352112676051, 0.57412790697674421, 0.56277056277056281, 0.58055152394775034, 0.56286549707602329, 0.56998556998556993, 0.54765291607396871, 0.57503506311360453]}, 'hash': {'linear': [0.56671449067431845, 0.56417489421720735, 0.55389221556886226, 0.52395209580838309, 0.50724637681159424, 0.54896142433234418, 0.56509298998569379, 0.6028368794326241, 0.56768558951965054, 0.51470588235294112, 0.53724928366762181, 0.53597650513950068, 0.57580174927113703, 0.56034482758620685, 0.56286549707602329, 0.60171919770773641, 0.54785020804438278, 0.52205882352941169, 0.55066079295154191, 0.55386949924127471, 0.53973013493253374, 0.5716353111432706, 0.55873925501432653, 0.60205580029368577, 0.56786703601108035]}}, 'cs': {'tfidf': {'linear': [0.61771561771561778, 0.63549160671462834, 0.63805104408352664, 0.65853658536585358, 0.59610705596107061, 0.63701923076923084, 0.64320388349514579, 0.63510392609699762, 0.66265060240963858, 0.6644144144144144, 0.61274509803921562, 0.65727699530516437, 0.61320754716981118, 0.64320388349514579, 0.69739952718676124, 0.59665871121718372, 0.60465116279069764, 0.64950980392156865, 0.64903846153846156, 0.63679245283018882, 0.5690072639225181, 0.67216981132075471, 0.58894230769230771, 0.61893203883495163, 0.69930069930069938]}, 'hash': {'linear': [0.65268065268065267, 0.64402810304449642, 0.58139534883720922, 0.6588235294117647, 0.62790697674418616, 0.62937062937062926, 0.63380281690140849, 0.62929061784897034, 0.54631828978622321, 0.63829787234042556, 0.66901408450704225, 0.66825775656324571, 0.60426540284360197, 0.59101654846335705, 0.59770114942528729, 0.65420560747663548, 0.65217391304347827, 0.59101654846335705, 0.63679245283018882, 0.60090702947845809, 0.71764705882352942, 0.625, 0.58194774346793354, 0.60090702947845809, 0.60096153846153844]}}, 'diy': {'tfidf': {'linear': [0.7752808988764045, 0.67928730512249447, 0.77272727272727271, 0.75268817204301075, 0.64772727272727271, 0.73788546255506604, 0.68478260869565222, 0.71748878923766823, 0.73529411764705876, 0.74157303370786509, 0.69284064665127032, 0.71743929359823388, 0.75163398692810468, 0.76666666666666672, 0.70953436807095338, 0.70135746606334837, 0.75431034482758619, 0.70484581497797361, 0.70438799076212466, 0.70114942528735624, 0.75723830734966591, 0.70484581497797361, 0.69690265486725667, 0.62200956937799046, 0.7860262008733625]}, 'hash': {'linear': [0.72562358276644001, 0.72869955156950683, 0.65555555555555556, 0.73732718894009219, 0.66448801742919394, 0.65995525727069348, 0.67873303167420806, 0.7505518763796909, 0.73660714285714279, 0.65217391304347816, 0.65972222222222221, 0.72062084257206194, 0.78299776286353473, 0.63063063063063063, 0.69264069264069261, 0.68565400843881852, 0.72368421052631571, 0.74592074592074598, 0.67032967032967039, 0.6138392857142857, 0.67114093959731547, 0.65909090909090906, 0.74115044247787609, 0.6777777777777777, 0.74725274725274715]}}}

if __name__ == '__main__':
    #ux,android,SE8
    fileB = ['SE0' ,'SE1','SE3','SE6','SE8','cs','diy','photo','rpg','scifi']
    temp1={}
    path = '/Users/amrit/GITHUB/LDAClassification/src/2016-11-01/dump/'
    for root, dirs, files in os.walk(path, topdown=False):
        for name in files:
            a = os.path.join(root, name)
            with open(a, 'rb') as handle:
                temp = pickle.load(handle)
                temp1 = dict(temp1.items() + temp.items())
    print(temp1)



    '''font = {
        'size': 60}

    plt.rc('font', **font)
    paras = {'lines.linewidth': 10, 'legend.fontsize': 35, 'axes.labelsize': 60, 'legend.frameon': False,
             'figure.autolayout': True}
    plt.rcParams.update(paras)
    X = range(len(fileB))
    plt.figure(num=0, figsize=(25, 15))

    Y_tuned_raw = []
    Y_tuned_iqr = []
    Y_tuned_f=[]
    Y_untuned_raw = []

    Y_untuned_f = []
    for file1 in fileB:
        Y_tuned_raw.append(tuned[file1][7][0])
        Y_tuned_iqr.append(np.percentile(tuned[file1][7][1],75)-np.percentile(tuned[file1][7][1],25))
        Y_tuned_f.append(np.median(tuned[file1][7][1]))
        Y_untuned_raw.append(untuned[file1][10][10][0])
        Y_untuned_f.append(untuned[file1][10][10][1])
    #print(Y_untuned_raw)
    print(Y_tuned_iqr)
    #plt.title("Tuning improves Clustering and Classification from StackExchange websites")
    #plt.title("Tuning")
    line,=plt.plot(X, Y_tuned_raw, marker='o', markersize=20, label='tuned cluster overlap')
    plt.plot(X, Y_untuned_raw,linestyle="-.", marker='*',markersize=25,color=line.get_color(),label='untuned cluster overlap')
    line, = plt.plot(X, Y_tuned_f, marker='o', markersize=20, label='tuned f2 accuracy')
    plt.plot(X, Y_untuned_f, linestyle="-.", marker='*',markersize=25, color=line.get_color(), label='untuned f2 accuracy')
    line, = plt.plot(X, Y_tuned_iqr, marker='o', markersize=20, label='tuned variance')
    plt.plot(X, Y_untuned_iqr, linestyle="-.", marker='*',markersize=25, color=line.get_color(), label='untuned variance')
        #plt.ytext(0.04, 0.5, va='center', rotation='vertical', fontsize=11)
        #plt.text(0.04, 0.5,"Rn (Raw Score)", labelpad=100)
    plt.ylim(0.0, 1.0)
    plt.xticks(X, fileB)
    plt.ylabel("Scores", labelpad=30)
    plt.xlabel("Datasets", labelpad=30)
    plt.legend(bbox_to_anchor=(1.08, 1.13), loc=1, ncol=3, borderaxespad=0.1)
    plt.savefig("raw_vs_f.png")'''
